---

- hosts: all
  become: yes
  become_method: sudo
  strategy: free
  vars:
      - workspace: /home/koala
      - ruby_install_gems_user: koala
      - ruby_install_from_source: true
      - ruby_version: 2.3.0
      - mysql_root_db_pass: "{{ lookup('password', '~/.ansible/provision/' + hostname + '/db-password chars=ascii_letters') }}"
      - mariadb_repo_url: "[arch=amd64,i386] http://mirror.i3d.net/pub/mariadb/repo/10.0/ubuntu"

  roles:
    - initialize
    - franklinkim.timezone
    - f500.ntp
    - f500.locale
    - users
    - defaults
    # Optional to install
    - git
    - nginx
    - php
    - nodesource.node
    - wp-cli
    - composer
    - { role: geerlingguy.ruby }
    - jekyll
    - { role: craigmj.mariadb10 }